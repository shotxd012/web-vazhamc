<!DOCTYPE html>
<html lang="en">
<%- include('partials/head') %>
<body class="bg-gray-900 text-white min-h-screen font-sans flex flex-col">
    <%- include('partials/nav') %>

    <main class="flex-grow">
        <section class="hero-gradient min-h-screen py-20">
            <div class="container mx-auto px-4">
                <div class="max-w-7xl mx-auto bg-gray-800/80 backdrop-blur-md rounded-xl shadow-lg overflow-hidden">
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center p-5 bg-gray-700/50 border-b border-gray-600">
                        <h1 class="text-3xl font-bold">Tokyo Modded MC Store</h1>
                        <button id="cartBtn" class="mt-4 sm:mt-0 px-5 py-2 bg-purple-600 hover:bg-purple-700 rounded-md text-white font-medium transition duration-200 ease-in-out">
                            Cart (<span id="cartCount">0</span>)
                        </button>
                    </div>
                    <div class="p-5">
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                            <!-- Store items -->
                            <div class="bg-gray-700/50 rounded-lg overflow-hidden">
                                <img src="/img/vip-rank.jpg" alt="VIP Rank" class="w-full h-48 object-cover">
                                <div class="p-4">
                                    <h3 class="text-xl font-semibold mb-2">VIP Rank</h3>
                                    <p class="text-gray-300 mb-4">Exclusive perks and privileges for VIP players</p>
                                    <div class="flex justify-between items-center">
                                        <span class="text-2xl font-bold">₹0</span>
                                        <button class="add-to-cart px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-md text-white font-medium transition duration-200 ease-in-out" data-item="VIP Rank" data-price="9.99" data-price-inr="749">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-gray-700/50 rounded-lg overflow-hidden">
                                <img src="/img/custom-pet.jpg" alt="Custom Pet" class="w-full h-48 object-cover">
                                <div class="p-4">
                                    <h3 class="text-xl font-semibold mb-2">Custom Pet</h3>
                                    <p class="text-gray-300 mb-4">Create your own unique in-game pet</p>
                                    <div class="flex justify-between items-center">
                                        <span class="text-2xl font-bold">₹0</span>
                                        <button class="add-to-cart px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-md text-white font-medium transition duration-200 ease-in-out" data-item="Custom Pet" data-price="14.99" data-price-inr="1125">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-gray-700/50 rounded-lg overflow-hidden">
                                <img src="/img/resource-pack.jpg" alt="Exclusive Resource Pack" class="w-full h-48 object-cover">
                                <div class="p-4">
                                    <h3 class="text-xl font-semibold mb-2">Exclusive Resource Pack</h3>
                                    <p class="text-gray-300 mb-4">Unique textures and sounds for your game</p>
                                    <div class="flex justify-between items-center">
                                        <span class="text-2xl font-bold">₹0</span>
                                        <button class="add-to-cart px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-md text-white font-medium transition duration-200 ease-in-out" data-item="Exclusive Resource Pack" data-price="4.99" data-price-inr="375">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-gray-700/50 rounded-lg overflow-hidden">
                                <img src="/img/mod-bundle.jpg" alt="Mod Bundle" class="w-full h-48 object-cover">
                                <div class="p-4">
                                    <h3 class="text-xl font-semibold mb-2">Mod Bundle</h3>
                                    <p class="text-gray-300 mb-4">Get access to premium mods and plugins</p>
                                    <div class="flex justify-between items-center">
                                        <span class="text-2xl font-bold">₹0</span>
                                        <button class="add-to-cart px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-md text-white font-medium transition duration-200 ease-in-out" data-item="Mod Bundle" data-price="19.99" data-price-inr="1499">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <!-- New Items -->
                            <div class="bg-gray-700/50 rounded-lg overflow-hidden">
                                <img src="/img/mini-kit.jpg" alt="Mini Starter Kit" class="w-full h-48 object-cover">
                                <div class="p-4">
                                    <h3 class="text-xl font-semibold mb-2">Mini Starter Kit</h3>
                                    <p class="text-gray-300 mb-4">A budget-friendly starter pack for new players</p>
                                    <div class="flex justify-between items-center">
                                        <span class="text-2xl font-bold">₹0</span>
                                        <button class="add-to-cart px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-md text-white font-medium transition duration-200 ease-in-out" data-item="Mini Starter Kit" data-price="1.99" data-price-inr="149">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <%- include('partials/footer') %>

    <!-- Cart Modal -->
    <div id="cartModal" class="fixed inset-0 bg-gray-900 bg-opacity-50 hidden items-center justify-center">
        <div class="bg-gray-800 p-8 rounded-lg max-w-md w-full">
            <h2 class="text-2xl font-bold mb-4">Your Cart</h2>
            <div id="cartItems" class="mb-4">
                <!-- Cart items will be dynamically added here -->
            </div>
            <div class="flex justify-between items-center mb-4">
                <span class="text-xl font-semibold">Total:</span>
                <span id="cartTotal" class="text-2xl font-bold">$0.00 / ₹0</span>
            </div>
            <div class="flex justify-end">
                <button id="closeCartBtn" class="px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-md text-white font-medium transition duration-200 ease-in-out mr-2">
                    Close
                </button>
                <button id="checkoutBtn" class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md text-white font-medium transition duration-200 ease-in-out">
                    Checkout
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const cartBtn = document.getElementById('cartBtn');
            const cartModal = document.getElementById('cartModal');
            const closeCartBtn = document.getElementById('closeCartBtn');
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            const cartCount = document.getElementById('cartCount');
            const checkoutBtn = document.getElementById('checkoutBtn');
            const addToCartBtns = document.querySelectorAll('.add-to-cart');

            let cart = [];

            function updateCart() {
                cartItems.innerHTML = '';
                let totalUSD = 0;
                let totalINR = 0;
                cart.forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.className = 'flex justify-between items-center mb-2';
                    itemElement.innerHTML = `
                        <span>${item.name}</span>
                        <span>$${item.price.toFixed(2)} / ₹${item.priceINR}</span>
                    `;
                    cartItems.appendChild(itemElement);
                    totalUSD += item.price;
                    totalINR += item.priceINR;
                });
                cartTotal.textContent = `$${totalUSD.toFixed(2)} / ₹${totalINR}`;
                cartCount.textContent = cart.length;
            }

            addToCartBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const item = {
                        name: btn.getAttribute('data-item'),
                        price: parseFloat(btn.getAttribute('data-price')),
                        priceINR: parseInt(btn.getAttribute('data-price-inr'))
                    };
                    cart.push(item);
                    updateCart();
                });
            });

            cartBtn.addEventListener('click', () => {
                cartModal.classList.remove('hidden');
                cartModal.classList.add('flex');
            });

            closeCartBtn.addEventListener('click', () => {
                cartModal.classList.add('hidden');
                cartModal.classList.remove('flex');
            });

            checkoutBtn.addEventListener('click', () => {
                alert('soon!.');
            });
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('partials/shot/head') %>
</head>
<body class="bg-dark-500 text-gray-200 h-screen flex flex-col">

    <div class="flex flex-1">
        <%- include('partials/shot/sidebar') %>

        <div class="flex-1 p-6">
            <h2 class="text-lg font-medium text-gray-200 mb-4">ðŸŽ« All Tickets</h2>

            <table class="min-w-full bg-dark-500 border border-dark-200 rounded-lg">
                <thead>
                    <tr class="border-b border-dark-200">
                        <th class="py-2 px-4 text-left text-sm font-medium text-gray-400">Ticket ID</th>
                        <th class="py-2 px-4 text-left text-sm font-medium text-gray-400">User</th>
                        <th class="py-2 px-4 text-left text-sm font-medium text-gray-400">Type</th>
                        <th class="py-2 px-4 text-left text-sm font-medium text-gray-400">Status</th>
                        <th class="py-2 px-4 text-left text-sm font-medium text-gray-400">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% tickets.forEach(ticket => { %>
                        <tr class="border-b border-dark-200 hover:bg-dark-400">
                            <td class="py-2 px-4 text-sm text-gray-300">#<%= ticket.ticketId %></td>
                            <td class="py-2 px-4 text-sm text-gray-300 flex items-center space-x-2">
                                <img src="https://cdn.discordapp.com/avatars/<%= ticket.userId %>/<%= ticket.avatar %>.png" class="w-6 h-6 rounded-full">
                                <span><%= ticket.username %></span>
                            </td>
                            <td class="py-2 px-4 text-sm capitalize text-gray-300"><%= ticket.type %></td>
                            <td class="py-2 px-4 text-sm">
                                <span class="<%= ticket.status === 'closed' ? 'text-red-500' : 'text-green-400' %>">
                                    <%= ticket.status %>
                                </span>
                            </td>
                            <td class="py-2 px-4 text-sm">
                                <a href="/shot/ticket/<%= ticket.ticketId %>" class="bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded">Open</a>
                            </td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        </div>
    </div>

    <%- include('partials/shot/footer') %>
</body>
</html>
